\begin{multicols}{2}
  \lblextra{Language $\langK$}{ extends $\langM$:}{
    $\begin{array}{l@{\hspace{0.5em}}c@{\hspace{0.5em}}l}
      e & \BNFeq & \ldots \mid \edyn{\tau}{e} \mid \esta{\tau}{e} \mid \edyn{\kany}{e} \mid
      \\ & &       \esta{\kany}{e} \mid \echk{K}{e}
      \\
  %    v & \BNFeq & i \mid \vpair{v}{v} \mid \vlam{x}{e} \mid \vlam{\tann{x}{\tau}}{e}
  %    \\
  %    \tau & \BNFeq & \tnat \mid \tint \mid \tpair{\tau}{\tau} \mid \tau \tarrow \tau
  %    \\
      K & \BNFeq & \knat \mid \kint \mid \kpair \mid \kfun \mid \kany
      \\
  %    \Gamma & \BNFeq & \cdot \mid x,\Gamma \mid \tann{x}{\tau},\Gamma
  %    \\
  %    A & \BNFeq & e \mid \boundaryerror \mid \tagerror
  %    \\
      \ES & \BNFeq & \ldots \mid \echk{K}{E}
    \end{array}$
  }

  \multicolsbreak

  \lbl{$\tagof{\tau} = K$}{
    $\begin{array}{l c l}
      \tagof{\tnat} & = & \knat
      \\
      \tagof{\tint} & = & \kint
      \\
      \tagof{\tpair{\tau_0}{\tau_1}} & = & \kpair
      \\
      \tagof{\tarr{\tau_d}{\tau_c}} & = & \kfun
    \end{array}$
  }
\end{multicols}

\smallskip
\lbl{$\mchk{K}{v} = A$}{
  \[\mchk{K}{v} = \left\{\begin{array}{l@{\hspace{1em}}l}
    v
    & \mbox{if $~\wellKE v : K$}
    \\
    \boundaryerror
    & \mbox{otherwise}
  \end{array}\right.\]
}

% -----------------------------------------------------------------------------
% --- reduction
\begin{multicols}{2}

  \lblextra{$e \rrKD A$}{ (selected rules)}{
    $\begin{array}{l@{\hspace{0.5em}}c@{\hspace{0.5em}}l}
      \esta{\tau}{v} & \rrKD
      & v
      \\
      \\[1ex]
      \esta{\kany}{v} & \rrKD
      & v
      \\


      \\
      (\vlam{x}{e})~v & \rrKD
      & \vsubst{e}{x}{v}
      \\
      (\vlam{\tann{x}{\tau}}{e})~v & \rrKD
      & \esta{\kany}{(\vsubst{e}{x}{v})}
      \\ \sidecond{if $\tagof{\tau} = K$ and $\mchk{K}{v} = v$}
      \\[1ex]
      (\vlam{\tann{x}{\tau}}{e})~v & \rrKD
      & \boundaryerror
      \\ \sidecond{if $\tagof{\tau} = K$ and $\mchk{K}{v} = \boundaryerror$}
      \\[1ex]
      \eapp{v_0}{v_1} & \rrKD
      & \tagerror
      \\ \sidecond{if $v_0 \valeq i$ or $v_0 \valeq \vpair{v}{v'}$}
  %    \eunop{v} & \rrKD
  %    & A
  %    \\ \sidecond{if $\delta(\vunop, v) \expreq A$}
  %    \\
  %    \eunop{v} & \rrKD
  %    & \tagerror
  %    \\ \sidecond{otherwise}
  %    \\
  %    \ebinop{v_0}{v_1} & \rrKD
  %    & A
  %    \\ \sidecond{if $\delta(\vbinop, v_0, v_1) \expreq A$}
  %    \\
  %    \ebinop{v_0}{v_1} & \rrKD
  %    & \tagerror
  %    \\ \sidecond{otherwise}
    \end{array}$
  }

  \multicolsbreak

  \lblextra{$e \rrKS A$}{ (selected rules)}{
    $\begin{array}{l@{\hspace{0.5em}}c@{\hspace{0.5em}}l}
      \edyn{\tau}{v} & \rrKS
      & \mchk{K}{v}
      \\ \sidecond{where $\tagof{\tau} = K$}
      \\[1ex]
      \edyn{\kany}{v} & \rrKS
      & v
      \\
      \echk{K}{v} & \rrKS
      & \mchk{K}{v}
      \\
      (\vlam{\tann{x}{\tau}}{e})~v & \rrKS
      & \vsubst{e}{x}{v}
      \\ \sidecond{if $\tagof{\tau} = K$ and $\mchk{K}{v} = v$}
      \\[1ex]
      (\vlam{\tann{x}{\tau}}{e})~v & \rrKS
      & \boundaryerror
      \\ \sidecond{if $\tagof{\tau} = K$ and $\mchk{K}{v} = \boundaryerror$}
      \\[1ex]
      (\vlam{x}{e})~v & \rrKS
      & \edyn{\kany}{(\vsubst{e}{x}{v})}
  %    \eunop{v} & \rrKS
  %    & A
  %    & \mbox{if $\delta(\vunop, v) = A$}
  %    \\
  %    \ebinop{v_0}{v_1} & \rrKS
  %    & \delta(\vbinop, v_0, v_1)
  %    & \mbox{if $\delta(\vbinop, v_0, v_1) = A$}
    \end{array}$
  }

\end{multicols}

\begin{multicols}{2}

  \lbl{$e \ccKD A$}{
    $\begin{array}{l@{\hspace{0.5em}}c@{\hspace{0.5em}}l}
      \ctxE{\esta{\tau}{e}} & \ccKD & \ctxE{\esta{\tau}{e'}}
      \\ \sidecond{if $e \ccKS e'$}
      \\
      \ctxE{\esta{\tau}{e}} & \ccKD & A
      \\ \sidecond{if $e \ccKS A$ and $A \not\in e$}
      \\
      \ctxE{e} & \ccKD & \ctxE{e'}
      \\ \sidecond{if $e \rrKD e'$}
      \\
      \ctxE{e} & \ccKD & A
      \\ \sidecond{if $e \rrKD A$ and $A \not\in e$}
    \end{array}$
  }

  \multicolsbreak

  \lbl{$e \ccKS A$}{
    $\begin{array}{l@{\hspace{0.5em}}c@{\hspace{0.5em}}l@{\hspace{1em}}l}
      \ctxE{\edyn{\tau}{e}} & \ccKS & \ctxE{\edyn{\tau}{e'}}
      \\ \sidecond{if $e \ccKD e'$}
      \\
      \ctxE{\edyn{\tau}{e}} & \ccKS & A
      \\ \sidecond{if $e \ccKD A$ and $A \not\in e$}
      \\
      \ctxE{e} & \ccKS & \ctxE{e'}
      \\ \sidecond{if $e \rrKS e'$}
      \\
      \ctxE{e} & \ccKS & A
      \\ \sidecond{if $e \rrKS A$ and $A \not\in e$}
    \end{array}$
  }

\end{multicols}

\fbox{$e \rrKEstar A$}{ reflexive, transitive closure of $\ccKS$}
